<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quiz Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { font-family: Arial; text-align: center; margin-top: 40px; background:#f4f6fb; }
h1 { margin-bottom:10px; }
button {
  padding: 12px 24px;
  margin: 8px;
  font-size: 18px;
  cursor: pointer;
  border-radius: 10px;
  border: none;
  background: #4f46e5;
  color: white;
}
button:disabled { background:#999; cursor: not-allowed; }
#answers button { display:block; margin:10px auto; width:60%; }
#next-btn { display:none; }
</style>
</head>
<body>

<h1 id="q-title"></h1>
<p id="q-text"></p>

<div id="answers"></div>

<button id="next-btn">Next Question</button>

<script>
let questions = JSON.parse(sessionStorage.getItem("currentQuiz") || "[]");
if (!Array.isArray(questions) || questions.length === 0) {
  alert("No questions found! Go back to Create.");
  window.location.href = "create.html";
}

let index = 0;
let score = 0;

const qTitle = document.getElementById("q-title");
const qText = document.getElementById("q-text");
const answersDiv = document.getElementById("answers");
const nextBtn = document.getElementById("next-btn");

function loadQuestion() {
  nextBtn.style.display = "none";
  answersDiv.innerHTML = "";

  const q = questions[index];
  qTitle.textContent = "Question " + (index+1);
  qText.textContent = q.q;

  q.answers.forEach((ans, i) => {
    const btn = document.createElement("button");
    btn.textContent = ans;
    btn.onclick = () => answerQuestion(i);
    answersDiv.appendChild(btn);
  });
}

function answerQuestion(choice) {
  answersDiv.querySelectorAll("button").forEach(b => b.disabled = true);
  if(choice === questions[index].correct) score += 1000;
  nextBtn.style.display = "inline-block";
}

nextBtn.onclick = () => {
  index++;
  if(index < questions.length) loadQuestion();
  else {
    qTitle.textContent = "ðŸŽ‰ Quiz Complete!";
    qText.textContent = "Your Score: " + score;
    answersDiv.innerHTML = "";
    nextBtn.style.display = "none";
  }
};

loadQuestion();
</script>
</body>
</html>
