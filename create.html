<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Create Your Own Questions</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: Arial;
      text-align: center;
      margin-top: 30px;
      background: #0b0b12;
      color: white;
    }

    input {
      padding: 8px;
      margin: 5px;
      font-size: 16px;
    }

    #questions-list {
      margin-top: 20px;
      text-align: left;
      display: inline-block;
    }

    li { margin-bottom: 5px; }

    /* ðŸ”¥ Neon button style */
    button {
      padding: 12px 26px;
      margin: 8px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 14px;
      background: #05050a;
      color: #00f7ff;
      border: 2px solid #00f7ff;
      box-shadow:
        0 0 8px #00f7ff,
        0 0 16px #00f7ff,
        inset 0 0 8px rgba(0,247,255,0.4);
      transition: 0.2s ease;
    }

    button:hover {
      transform: scale(1.06);
      box-shadow:
        0 0 14px #00f7ff,
        0 0 28px #00f7ff,
        inset 0 0 10px rgba(0,247,255,0.6);
    }

    /* ðŸ”´ Archive button */
    button.archive {
      color: #ff004c;
      border-color: #ff004c;
      box-shadow:
        0 0 8px #ff004c,
        0 0 16px #ff004c,
        inset 0 0 8px rgba(255,0,76,0.4);
    }

    button.archive:hover {
      box-shadow:
        0 0 14px #ff004c,
        0 0 28px #ff004c,
        inset 0 0 10px rgba(255,0,76,0.6);
    }
  </style>
</head>

<body>

<h1>Create Your Own Questions</h1>

<input type="text" id="quiz-name" placeholder="Quiz Name"><br>
<input type="text" id="question" placeholder="Question"><br>

<input type="text" id="answer1" placeholder="Answer 1">
<input type="text" id="answer2" placeholder="Answer 2">
<input type="text" id="answer3" placeholder="Answer 3">
<input type="text" id="answer4" placeholder="Answer 4"><br>

<input type="number" id="correct" placeholder="Correct answer (1-4)" min="1" max="4"><br>

<button id="add-btn">Add Question</button>
<button id="save-btn">Save Quiz</button>
<button id="play-btn">Play Current Quiz</button>
<button id="my-quizzes-btn">My Quizzes</button>
<button id="archive-btn" class="archive">Archive Current Quiz</button>
<!-- âœ… Back to Lobby Button -->
<button id="back-lobby-btn">Back to Lobby</button>

<h2>Questions Added:</h2>
<ul id="questions-list"></ul>

<script>
let questions = JSON.parse(sessionStorage.getItem("currentQuiz") || "[]");

const quizNameInput = document.getElementById("quiz-name");
const qInput = document.getElementById("question");
const a1Input = document.getElementById("answer1");
const a2Input = document.getElementById("answer2");
const a3Input = document.getElementById("answer3");
const a4Input = document.getElementById("answer4");
const correctInput = document.getElementById("correct");

const addBtn = document.getElementById("add-btn");
const saveBtn = document.getElementById("save-btn");
const playBtn = document.getElementById("play-btn");
const archiveBtn = document.getElementById("archive-btn");
const myQuizzesBtn = document.getElementById("my-quizzes-btn");
const backLobbyBtn = document.getElementById("back-lobby-btn");

const list = document.getElementById("questions-list");

function updateList() {
  list.innerHTML = "";
  questions.forEach((q,i) => {
    const li = document.createElement("li");
    li.textContent = `${i+1}. ${q.q} (Correct: ${q.answers[q.correct]})`;
    list.appendChild(li);
  });
}

addBtn.addEventListener("click", () => {
  const q = qInput.value.trim();
  const a1 = a1Input.value.trim();
  const a2 = a2Input.value.trim();
  const a3 = a3Input.value.trim();
  const a4 = a4Input.value.trim();
  const correct = parseInt(correctInput.value) - 1;

  if(!q || !a1 || !a2 || !a3 || !a4 || isNaN(correct) || correct < 0 || correct > 3){
    alert("Please fill all fields correctly!");
    return;
  }

  questions.push({ q, answers:[a1,a2,a3,a4], correct });
  sessionStorage.setItem("currentQuiz", JSON.stringify(questions));
  updateList();

  qInput.value = a1Input.value = a2Input.value =
  a3Input.value = a4Input.value = correctInput.value = "";
});

saveBtn.addEventListener("click", () => {
  const name = quizNameInput.value.trim() || "Untitled Quiz";
  if(questions.length === 0){ alert("Add at least one question!"); return; }

  const saved = JSON.parse(localStorage.getItem("myQuizzes") || "{}");
  saved[name] = questions;
  localStorage.setItem("myQuizzes", JSON.stringify(saved));

  sessionStorage.removeItem("currentQuiz");
  questions = [];
  updateList();
  quizNameInput.value = "";
  alert(`Quiz "${name}" saved!`);
});

archiveBtn.addEventListener("click", () => {
  const name = quizNameInput.value.trim() || "Untitled Quiz";
  if(questions.length === 0){ alert("Add at least one question!"); return; }

  const archived = JSON.parse(localStorage.getItem("archivedQuizzes") || "{}");
  archived[name] = questions;
  localStorage.setItem("archivedQuizzes", JSON.stringify(archived));

  const saved = JSON.parse(localStorage.getItem("myQuizzes") || "{}");
  if(saved[name]) delete saved[name];
  localStorage.setItem("myQuizzes", JSON.stringify(saved));

  questions = [];
  sessionStorage.removeItem("currentQuiz");
  updateList();
  quizNameInput.value = "";
  alert(`Quiz "${name}" archived!`);
});

playBtn.addEventListener("click", () => {
  if(questions.length === 0){ alert("Add at least one question!"); return; }
  window.location.href = "game.html";
});

myQuizzesBtn.addEventListener("click", () => {
  window.location.href = "my-quizzes.html";
});

/* âœ… Back to Lobby button */
backLobbyBtn.addEventListener("click", () => {
  window.location.href = "lobby.html";
});

updateList();
</script>

</body>
</html>
