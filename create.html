<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Create Quiz</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    background:#0b0b12;
    color:white;
    font-family:Arial, sans-serif;
    text-align:center;
    margin:0;
    padding:40px;
  }

  h1 {
    color:#7df9ff;
    text-shadow:0 0 12px #7df9ff;
    font-size:42px;
    margin-bottom:30px;
  }

  .box {
    border:2px solid #00f7ff;
    box-shadow:0 0 12px #00f7ff;
    border-radius:14px;
    padding:25px;
    width:420px;
    margin:20px auto;
    background:rgba(0,0,0,0.4);
  }

  input {
    width:90%;
    padding:12px;
    font-size:16px;
    margin:8px 0;
    border-radius:8px;
    border:none;
    outline:none;
  }

  .answers label {
    display:block;
    margin:10px 0;
    cursor:pointer;
  }

  button {
    padding:14px 30px;
    margin:10px;
    font-size:18px;
    border-radius:12px;
    border:2px solid #00f7ff;
    background:transparent;
    color:#00f7ff;
    box-shadow:0 0 12px #00f7ff;
    cursor:pointer;
    transition:transform 0.2s, box-shadow 0.2s;
  }

  button:hover {
    transform:scale(1.07);
    box-shadow:0 0 22px #00f7ff;
  }
</style>
</head>
<body>

<h1>Create Your Quiz</h1>

<div class="box">
  <input id="quizTitle" placeholder="Quiz Title">
</div>

<div class="box">
  <input id="question" placeholder="Question">
</div>

<div class="box answers">
  <label><input type="radio" name="correct" value="0"> <input id="a0" placeholder="Answer 1"></label>
  <label><input type="radio" name="correct" value="1"> <input id="a1" placeholder="Answer 2"></label>
  <label><input type="radio" name="correct" value="2"> <input id="a2" placeholder="Answer 3"></label>
  <label><input type="radio" name="correct" value="3"> <input id="a3" placeholder="Answer 4"></label>
</div>

<div class="box">
  <button onclick="saveQuiz()">Save Quiz</button>
  <button onclick="playQuiz()">Play Current Quiz</button>
  <button onclick="deleteQuiz()">Delete Current Quiz</button>
  <br><br>
  <button onclick="location.href='my-quizzes.html'">My Quizzes</button>
  <button onclick="location.href='lobby.html'">Back to Lobby</button>
</div>

<script>
function saveQuiz(){
  const title=document.getElementById("quizTitle").value.trim();
  const q=document.getElementById("question").value.trim();
  const answers=[a0.value,a1.value,a2.value,a3.value];
  const correct=document.querySelector("input[name='correct']:checked");

  if(!title || !q || answers.some(a=>!a) || !correct){
    alert("Fill everything and select a correct answer");
    return;
  }

  const quiz={
    title:title,
    questions:[{
      question:q,
      answers:answers,
      correct:Number(correct.value)
    }]
  };

  const data=JSON.parse(localStorage.getItem("myQuizzes")||"{}");
  data[title]=quiz;
  localStorage.setItem("myQuizzes",JSON.stringify(data));

  alert("Quiz saved!");
}

function playQuiz(){
  const title=document.getElementById("quizTitle").value.trim();
  const data=JSON.parse(localStorage.getItem("myQuizzes")||"{}");

  if(!data[title]){
    alert("Save the quiz first!");
    return;
  }

  sessionStorage.setItem("currentQuiz",JSON.stringify(data[title]));
  location.href="game.html";
}

function deleteQuiz(){
  const title=document.getElementById("quizTitle").value.trim();
  if(!title) return;

  if(confirm(`Delete "${title}"?`)){
    const data=JSON.parse(localStorage.getItem("myQuizzes")||"{}");
    delete data[title];
    localStorage.setItem("myQuizzes",JSON.stringify(data));
    alert("Deleted");
  }
}
</script>

</body>
</html>
