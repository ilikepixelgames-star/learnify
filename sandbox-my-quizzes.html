<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sandbox My Quizzes</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: #0b0b12;
  color: white;
  text-align: center;
  margin-top: 30px;
}

#my-quizzes-list {
  margin-top: 20px;
  text-align: left;
  display: inline-block;
}
li { margin-bottom: 10px; }

button {
  padding: 10px 22px;
  margin: 5px;
  font-size: 15px;
  cursor: pointer;
  border-radius: 12px;
  background: #05050a;
  color: #00f7ff;
  border: 2px solid #00f7ff;
  box-shadow: 0 0 6px #00f7ff, 0 0 12px #00f7ff, inset 0 0 6px rgba(0,247,255,0.4);
  transition: 0.2s ease;
}
button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 10px #00f7ff, 0 0 20px #00f7ff, inset 0 0 8px rgba(0,247,255,0.5);
}
</style>
</head>

<body>

<h1>My Sandbox Quizzes</h1>

<ul id="my-quizzes-list"></ul>

<button id="back-create-btn">Back to Create</button>

<script>
// Use localStorage key for sandbox quizzes
const MY_QUIZZES_KEY = "sandboxMyQuizzes";

const listEl = document.getElementById("my-quizzes-list");
const backBtn = document.getElementById("back-create-btn");

// Load saved sandbox quizzes or empty object
const savedQuizzes = JSON.parse(localStorage.getItem(MY_QUIZZES_KEY) || "{}");

function updateList() {
  listEl.innerHTML = "";

  if(Object.keys(savedQuizzes).length === 0){
    listEl.innerHTML = "<li>No quizzes yet!</li>";
  } else {
    Object.keys(savedQuizzes).forEach(name => {
      const li = document.createElement("li");
      li.textContent = name;

      // Use Quiz button
      const useBtn = document.createElement("button");
      useBtn.textContent = "Use Quiz to Play";
      useBtn.onclick = () => {
        sessionStorage.setItem("currentPlayQuiz", JSON.stringify(savedQuizzes[name]));
        alert(`"${name}" selected for multiplayer!`);
      };

      // Delete button
      const delBtn = document.createElement("button");
      delBtn.textContent = "Delete";
      delBtn.onclick = () => {
        if(confirm(`Delete "${name}"?`)){
          delete savedQuizzes[name];
          localStorage.setItem(MY_QUIZZES_KEY, JSON.stringify(savedQuizzes));
          updateList();
        }
      };

      li.appendChild(document.createElement("br"));
      li.appendChild(useBtn);
      li.appendChild(delBtn);
      listEl.appendChild(li);
    });
  }
}

// Back to sandbox create page
backBtn.onclick = () => location.href = "sandbox.html";

updateList();
</script>

</body>
</html>
